(()=>{"use strict";function e(e){const t=function(){const e=window.getSelection();return e?e.toString().trim():""}();t?(chrome.runtime.sendMessage({type:"FILL_FIELD",payload:{fieldId:e,text:t}}),n(`Texto capturado para ${function(e){return{nome:"Nome",cpf:"CPF",documento:"Documento",condutor_repetido:"Condutor",funcionario:"Funcionário"}[e]||e}(e)}`,"success"),function(){const e=window.getSelection();if(!e||0===e.rangeCount)return;const n=e.getRangeAt(0),t=document.createElement("span");t.style.cssText="\n    background-color: #ffeb3b;\n    transition: background-color 2s ease-out;\n  ";try{n.surroundContents(t),setTimeout(()=>{t.style.backgroundColor="transparent",setTimeout(()=>{if(t.parentNode){const e=t.parentNode;e.insertBefore(document.createTextNode(t.textContent||""),t),e.removeChild(t)}},2e3)},500)}catch(e){console.log("Não foi possível destacar a seleção:",e)}e.removeAllRanges()}()):n("Nenhum texto selecionado","error")}function n(e,n="success"){const t=document.getElementById("extension-notification");t&&t.remove();const o=document.createElement("div");if(o.id="extension-notification",o.style.cssText=`\n    position: fixed;\n    top: 20px;\n    right: 20px;\n    background: ${"success"===n?"#4CAF50":"#f44336"};\n    color: white;\n    padding: 12px 20px;\n    border-radius: 4px;\n    font-family: Arial, sans-serif;\n    font-size: 14px;\n    z-index: 10000;\n    box-shadow: 0 2px 10px rgba(0,0,0,0.2);\n    animation: slideIn 0.3s ease-out;\n  `,!document.getElementById("extension-notification-styles")){const e=document.createElement("style");e.id="extension-notification-styles",e.textContent="\n      @keyframes slideIn {\n        from {\n          transform: translateX(100%);\n          opacity: 0;\n        }\n        to {\n          transform: translateX(0);\n          opacity: 1;\n        }\n      }\n      @keyframes slideOut {\n        from {\n          transform: translateX(0);\n          opacity: 1;\n        }\n        to {\n          transform: translateX(100%);\n          opacity: 0;\n        }\n      }\n    ",document.head.appendChild(e)}o.textContent=e,document.body.appendChild(o),setTimeout(()=>{o.parentNode&&(o.style.animation="slideOut 0.3s ease-in",setTimeout(()=>{o.parentNode&&o.remove()},300))},3e3)}console.log("Content script carregado"),chrome.runtime.onMessage.addListener((n,t,o)=>{console.log("Mensagem recebida no content script:",n),"GET_SELECTED_TEXT"===n.type&&e(n.fieldId)}),document.addEventListener("keydown",n=>{if(n.ctrlKey&&n.altKey){let t="";switch(n.key){case"1":t="nome";break;case"2":t="cpf";break;case"3":t="documento";break;case"4":t="condutor_repetido";break;case"5":t="funcionario";break;default:return}n.preventDefault(),e(t)}})})();